<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ValetPro — Acceso</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');

    :root {
      --bg:#dff3f1;
      --card:#ffffff;
      --ink:#0f172a;
      --muted:#64748b;
      --brand:#0e2a3b;
      --accent:#ee6c4d;
      --accent-2:#d75b3d;
      --border:#e5e7eb;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--ink);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .bg-shapes { position: fixed; inset: -40vmax; pointer-events: none; z-index: -1; }
    .shape {
      position: absolute;
      width: 140vmax;
      height: 40vmax;
      transform-origin: left center;
      filter: drop-shadow(0 30px 40px rgba(0,0,0,.14));
    }
    .shape.orange-1 { background: #ef5a2e; transform: rotate(-23deg) translate(10vmax, 5vmax); }
    .shape.orange-2 { background: #ef5a2e; transform: rotate(-23deg) translate(30vmax, 22vmax); }
    .shape.teal-1   { background: #62c6c0; transform: rotate(-23deg) translate(-6vmax, 20vmax); }

    .card {
      width: min(92vw, 380px);
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 20px;
      box-shadow: 0 18px 60px rgba(2,6,23,.18);
      overflow: hidden;
    }

    .card-head {
      height: 120px;
      background: var(--brand);
      position: relative;
      color: #fff;
      font-weight: 600;
      letter-spacing: .2px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .card-head::after {
      content: "";
      position: absolute;
      inset: 0;
      clip-path: polygon(0 0, 100% 0, 100% 72%, 0 100%);
      background: var(--brand);
    }
    .card-head span {
      position: relative;
      z-index: 1;
    }

    .card-body {
      padding: 80px 22px 22px; /* Increased top padding to compensate for removed avatar */
    }

    label {
      display: block;
      font-size: 13px;
      font-weight: 600;
      color: #0f172a;
      margin: 10px 0 6px;
    }
    .input {
      display: flex;
      align-items: center;
      gap: 8px;
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 10px 12px;
      background: #fafafa;
    }
    .input input {
      border: 0;
      outline: none;
      background: transparent;
      width: 100%;
      font-size: 14px;
      color: var(--ink);
    }
    .input input::placeholder { color: #94a3b8; opacity: 1; }
    .input input:focus-visible {
      outline: 2px solid #2563eb;
      outline-offset: 2px;
      background: #fff;
    }
    .input svg { width: 18px; height: 18px; fill: #64748b; }

    .row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 8px;
    }

    .switch {
      position: relative;
      width: 40px;
      height: 22px;
      flex: 0 0 auto;
    }
    .switch input { opacity: 0; width: 0; height: 0; }
    .slider {
      position: absolute;
      inset: 0;
      background: #e2e8f0;
      border-radius: 999px;
      cursor: pointer;
      transition: .2s background;
    }
    .slider::before {
      content: '';
      position: absolute;
      height: 18px;
      width: 18px;
      left: 2px;
      top: 2px;
      background: #fff;
      border-radius: 50%;
      box-shadow: 0 2px 6px rgba(0,0,0,.15);
      transition: .2s transform;
    }
    .switch input:checked + .slider { background: #93c5fd; }
    .switch input:checked + .slider::before { transform: translateX(18px); }

    button {
      width: 100%;
      margin-top: 14px;
      padding: 12px 14px;
      border: 0;
      border-radius: 10px;
      background: var(--accent);
      color: #fff;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 10px 24px rgba(239,90,46,.35);
    }
    button:hover { background: var(--accent-2); }
    button[disabled] { opacity: .6; cursor: not-allowed; }

    .links {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 12px;
      padding-bottom: 6px;
      font-size: 13px;
    }
    a { color: #274c77; text-decoration: none; }
    a:hover { text-decoration: underline; }

    .error {
      display: none;
      margin-top: 10px;
      color: #b00020;
      font-size: 13px;
    }

    .muted { color: var(--muted); }

    @media (max-height: 620px) {
      .card-head { height: 100px; }
    }
  </style>
</head>
<body>

  <div class="bg-shapes" aria-hidden="true">
    <div class="shape teal-1"></div>
    <div class="shape orange-1"></div>
    <div class="shape orange-2"></div>
  </div>

  <div class="card">
    <div class="card-head"><span>Mi Cuenta</span></div>

    <div class="card-body">
      <form id="login-form" autocomplete="on">
        <label for="email">Correo</label>
        <div class="input">
          <svg viewBox="0 0 24 24"><path d="M12 13 2 6.75V18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6.75L12 13zm0-2 10-6H2l10 6z"/></svg>
          <input type="email" id="email" name="email" placeholder="usuario@empresa.com"
                 required autocomplete="username" autofocus />
        </div>

        <label for="password" style="margin-top:12px;">Contraseña</label>
        <div class="input">
          <svg viewBox="0 0 24 24"><path d="M12 1a5 5 0 0 0-5 5v3H6a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-9a2 2 0 0 0-2-2h-1V6a5 5 0 0 0-5-5zm3 8H9V6a3 3 0 1 1 6 0v3z"/></svg>
          <input type="password" id="password" name="password" placeholder="••••••••"
                 required autocomplete="current-password" />
        </div>

        <div class="row">
          <label for="toggle-pass" class="muted" style="font-size:12px; cursor:pointer;">Mostrar contraseña</label>
          <label class="switch" title="Mostrar/Ocultar contraseña">
            <input id="toggle-pass" type="checkbox" role="switch" aria-checked="false" />
            <span class="slider"></span>
          </label>
        </div>

        <button type="submit" id="login-btn">Ingresar</button>
        <div id="error-msg" class="error" role="alert" aria-live="polite"></div>
      </form>

      <div class="links">
        
        <a href="#" id="forgot">¿Olvidaste tu contraseña?</a>
      </div>
    </div>
  </div>

  <script>
    document.getElementById('toggle-pass')?.addEventListener('change', (e) => {
      const show = e.target.checked;
      e.target.setAttribute('aria-checked', show ? 'true' : 'false');
      const input = document.getElementById('password');
      input.type = show ? 'text' : 'password';
      input.focus();
    });

    document.getElementById('forgot')?.addEventListener('click', (e) => {
      e.preventDefault();
      alert('Pide al administrador restablecer tu contraseña o habilita el flujo de reset por email en Supabase.');
    });
  </script>

  <script type="module" src="login.js" defer></script>
</body>
</html>
